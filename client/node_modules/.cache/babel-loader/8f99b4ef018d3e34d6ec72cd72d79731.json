{"ast":null,"code":"import _objectSpread from\"C:/Users/micha/OneDrive/Desktop/projects/mernProject/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/micha/OneDrive/Desktop/projects/mernProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useHistory,useParams}from'react-router-dom';import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TransactionPage=function TransactionPage(){var history=useHistory();var _useParams=useParams(),standId=_useParams.standId,transactionId=_useParams.transactionId;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),lemonades=_useState2[0],setLemonades=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),transaction=_useState4[0],setTransaction=_useState4[1];var goToInvoice=function goToInvoice(e){e.preventDefault();axios.get(\"http://localhost:8000/api/transactions/\".concat(transactionId)).then(function(res){return setTransaction(res.data);}).catch(function(err){return console.log(err);});var updatedTransaction=_objectSpread(_objectSpread({},transaction),{},{stand_session:standId,lemonades:lemonades});axios.put(\"http://localhost:8000/api/transactions/\".concat(transactionId),updatedTransaction).then(function(res){console.log(res);// setTransaction(updatedTransaction)\n}).catch(function(err){return console.log(err);});history.push(\"/invoice-page/\".concat(standId,\"/\").concat(transactionId));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",style:{margin:\"25px\",padding:\"15px\",border:\"solid black 2px\"},onSubmit:function onSubmit(e){return goToInvoice(e);},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Number of Lemonades for Order\"}),/*#__PURE__*/_jsx(\"p\",{children:lemonades}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",style:{marginBottom:\"15px\"},onChange:function onChange(e){return setLemonades(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Create Invoice\"})]})});};export default TransactionPage;","map":{"version":3,"sources":["C:/Users/micha/OneDrive/Desktop/projects/mernProject/client/src/components/TransactionPage.jsx"],"names":["axios","useHistory","useParams","useState","TransactionPage","history","standId","transactionId","lemonades","setLemonades","transaction","setTransaction","goToInvoice","e","preventDefault","get","then","res","data","catch","err","console","log","updatedTransaction","stand_session","put","push","margin","padding","border","marginBottom","target","value"],"mappings":"iSAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,CAAoBC,SAApB,KAAoC,kBAApC,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1B,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,eAAiCC,SAAS,EAA1C,CAAOI,OAAP,YAAOA,OAAP,CAAgBC,aAAhB,YAAgBA,aAAhB,CACA,cAAkCJ,QAAQ,CAAC,CAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eACA,eAAsCN,QAAQ,CAAC,EAAD,CAA9C,yCAAOO,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GAEAd,KAAK,CAACe,GAAN,kDAAoDR,aAApD,GACKS,IADL,CACU,SAACC,GAAD,QAAQN,CAAAA,cAAc,CAACM,GAAG,CAACC,IAAL,CAAtB,EADV,EAEKC,KAFL,CAEW,SAACC,GAAD,QAAOC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAP,EAFX,EAIA,GAAMG,CAAAA,kBAAkB,gCACjBb,WADiB,MAEpBc,aAAa,CAAElB,OAFK,CAGpBE,SAAS,CAAEA,SAHS,EAAxB,CAMAR,KAAK,CAACyB,GAAN,kDAAoDlB,aAApD,EAAqEgB,kBAArE,EACCP,IADD,CACM,SAACC,GAAD,CAAS,CACXI,OAAO,CAACC,GAAR,CAAYL,GAAZ,EACA;AACH,CAJD,EAKCE,KALD,CAKO,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALP,EAOAf,OAAO,CAACqB,IAAR,yBAA8BpB,OAA9B,aAAyCC,aAAzC,GACH,CArBD,CAuBA,mBACI,kCACI,cAAM,SAAS,CAAC,MAAhB,CAAuB,KAAK,CAAE,CAACoB,MAAM,CAAC,MAAR,CAAgBC,OAAO,CAAC,MAAxB,CAAgCC,MAAM,CAAC,iBAAvC,CAA9B,CAAyF,QAAQ,CAAE,kBAAChB,CAAD,QAAKD,CAAAA,WAAW,CAACC,CAAD,CAAhB,EAAnG,wBACI,qDADJ,cAEI,mBAAIL,SAAJ,EAFJ,cAGI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAE,CAACsB,YAAY,CAAC,MAAd,CAA5B,CAAmD,QAAQ,CAAE,kBAACjB,CAAD,QAAKJ,CAAAA,YAAY,CAACI,CAAC,CAACkB,MAAF,CAASC,KAAV,CAAjB,EAA7D,EAHJ,cAGqG,aAHrG,cAII,eAAQ,SAAS,CAAC,iBAAlB,4BAJJ,GADJ,EADJ,CAUH,CAvCD,CAyCA,cAAe5B,CAAAA,eAAf","sourcesContent":["import axios from 'axios';\r\nimport {useHistory, useParams} from 'react-router-dom';\r\nimport { useState } from \"react\";\r\n\r\nconst TransactionPage = () => {\r\n    const history = useHistory();\r\n    const {standId, transactionId} = useParams();\r\n    const [lemonades, setLemonades] = useState(0);\r\n    const [transaction, setTransaction] = useState({})\r\n\r\n    const goToInvoice = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.get(`http://localhost:8000/api/transactions/${transactionId}`)\r\n            .then((res)=> setTransaction(res.data))\r\n            .catch((err)=>console.log(err))\r\n\r\n        const updatedTransaction = {\r\n            ...transaction,\r\n            stand_session: standId,\r\n            lemonades: lemonades \r\n        }\r\n\r\n        axios.put(`http://localhost:8000/api/transactions/${transactionId}`, updatedTransaction)\r\n        .then((res) => {\r\n            console.log(res);\r\n            // setTransaction(updatedTransaction)\r\n        })\r\n        .catch((err) => console.log(err))\r\n\r\n        history.push(`/invoice-page/${standId}/${transactionId}`)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"form\" style={{margin:\"25px\", padding:\"15px\", border:\"solid black 2px\"}} onSubmit={(e)=>goToInvoice(e)}>\r\n                <h2>Number of Lemonades for Order</h2>\r\n                <p>{lemonades}</p>\r\n                <input type=\"number\" style={{marginBottom:\"15px\"}} onChange={(e)=>setLemonades(e.target.value)}/><br />\r\n                <button className=\"btn btn-primary\">Create Invoice</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TransactionPage;"]},"metadata":{},"sourceType":"module"}